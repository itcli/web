webpackJsonp([6],{"0w4x":function(t,e){},"2sib":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("I0Ce"),o=s.n(a),n=s("SpjQ"),i=s("aHTP"),r=s("gQyR"),l={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,titleClass:null,valueClass:null,labelClass:null,title:[String,Number],value:[String,Number],label:[String,Number],border:{type:Boolean,default:!0}},c=s("WBOa"),u=s("Uuu8"),d=Object(i.g)("cell"),h=d[0],f=d[1];function w(t,e,s,a){var n=e.icon,l=e.size,d=e.title,h=e.label,w=e.value,p=e.isLink,m=e.arrowDirection,T=s.title||Object(i.c)(d),v=s.default||Object(i.c)(w),O=(s.label||Object(i.c)(h))&&t("div",{class:[f("label"),e.labelClass]},[s.label?s.label():h]),b=T&&t("div",{class:[f("title"),e.titleClass]},[s.title?s.title():t("span",[d]),O]),P=v&&t("div",{class:[f("value",{alone:!s.title&&!d}),e.valueClass]},[s.default?s.default():t("span",[w])]),I=s.icon?s.icon():n&&t(r.a,{class:f("left-icon"),attrs:{name:n}}),_=s["right-icon"],S=_?_():p&&t(r.a,{class:f("right-icon"),attrs:{name:m?"arrow-"+m:"arrow"}}),x={center:e.center,required:e.required,borderless:!e.border,clickable:p||e.clickable};return l&&(x[l]=l),t("div",o()([{class:f(x),on:{click:function(t){Object(c.a)(a,"click",t),Object(u.a)(a)}}},Object(c.b)(a)]),[I,b,P,S,s.extra&&s.extra()])}w.props=Object(n.a)({},l,u.b,{clickable:Boolean,arrowDirection:String});var p=h(w),m=Object(i.g)("field"),T=m[0],v=m[1];e.default=T({inheritAttrs:!1,props:Object(n.a)({},l,{error:Boolean,leftIcon:String,rightIcon:String,readonly:Boolean,clearable:Boolean,labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,errorMessageAlign:String,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(i.c)(this.value)&&!this.readonly},listeners:function(){return Object(n.a)({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var e=t.value,s=this.$attrs.maxlength;return"number"===this.type&&Object(i.c)(s)&&e.length>s&&(e=e.slice(0,s),t.value=e),e},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t)},onClickLeftIcon:function(){this.$emit("click-left-icon")},onClickRightIcon:function(){this.$emit("click-icon"),this.$emit("click-right-icon"),this.onIconClick&&this.onIconClick()},onClear:function(t){t.preventDefault(),this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,s=-1===String(this.value).indexOf(".");e>=48&&e<=57||46===e&&s||45===e||t.preventDefault()}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(i.e)(this.autosize)){var s=this.autosize,a=s.maxHeight,o=s.minHeight;a&&(e=Math.min(e,a)),o&&(e=Math.max(e,o))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e={ref:"input",class:v("control",this.inputAlign),domProps:{value:this.value},attrs:Object(n.a)({},this.$attrs,{readonly:this.readonly}),on:this.listeners};return"textarea"===this.type?t("textarea",o()([{},e])):t("input",o()([{attrs:{type:this.type}},e]))},renderLeftIcon:function(){var t=this.$createElement;if(this.slots("left-icon")||this.leftIcon)return t("div",{class:v("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(r.a,{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots;if(e("right-icon")||e("icon")||this.rightIcon||this.icon)return t("div",{class:v("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||e("icon")||t(r.a,{attrs:{name:this.rightIcon||this.icon}})])}},render:function(t){var e,s=this.slots,a=this.labelAlign,o={icon:this.renderLeftIcon};return s("label")&&(o.title=function(){return s("label")}),t(p,{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,titleClass:v("label",a)},class:v((e={error:this.error,disabled:this.$attrs.disabled},e["label-"+a]=a,e["min-height"]="textarea"===this.type&&!this.autosize,e)),scopedSlots:o},[t("div",{class:v("body")},[this.renderInput(),this.showClear&&t(r.a,{attrs:{name:"clear"},class:v("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),s("button")&&t("div",{class:v("button")},[s("button")])]),this.errorMessage&&t("div",{class:v("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"3Ds8":function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cube-scroll",{staticClass:"editor"},[s("div",{staticClass:"body"},["unset"===t.cardNum?s("div",{staticClass:"no-bank"},[s("div",{staticClass:"img-box"}),t._v(" "),s("p",{staticClass:"info"},[t._v("未绑定银行卡")])]):s("ul",{staticClass:"bank-list"},t._l(t.list,function(e,a){return s("li",{key:e.id+"_"+a,ref:"item"+a,refInFor:!0,staticClass:"item",style:t.getBankBg(e),on:{click:function(s){return t.onBankClick(e)}}},[s("span",{staticClass:"bank-name"},[t._v(t._s(e.bankName))]),t._v(" "),s("span",{staticClass:"card-num"},[t._v(t._s(e.cardNum.replace(/([\d*]{4})/g,"$1 ")))])])}),0),t._v(" "),s("button",{staticClass:"btn-white",on:{click:function(e){return t.$router.push("/user/add-bank")}}},[s("span",{staticClass:"icon iconfont h5-icon-bank-add"}),t._v(" "),s("span",{staticClass:"content"},[t._v("添加银行卡")])])])])},staticRenderFns:[]};e.a=a},"43uS":function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.secretKey?s("div",{directives:[{name:"hammer",rawName:"v-hammer.swipeleft",value:t.onSwipeLeft,expression:"onSwipeLeft",modifiers:{swipeleft:!0}},{name:"hammer",rawName:"v-hammer.swiperight",value:t.onSwipeRight,expression:"onSwipeRight",modifiers:{swiperight:!0}}],staticClass:"safety-page"},[s("vux-tab",{staticStyle:{"background-color":"#fff"},attrs:{"line-width":2},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,function(e,a){return s("vux-tab-item",{key:e.k+"-"+a},[t._v(t._s(e.v))])}),1),t._v(" "),s("transition-group",{attrs:{name:t.animationCheck}},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex===0"}],key:0,staticClass:"body"},[s("vux-group",{staticClass:"vux-group"},[s("input-row",{attrs:{label:"原登录密码",placeholder:"请输入原密码",type:"password","max-len":"20"},model:{value:t.modal[0].oldPassword,callback:function(e){t.$set(t.modal[0],"oldPassword",e)},expression:"modal[0].oldPassword"}}),t._v(" "),s("input-row",{attrs:{label:"新登录密码",placeholder:"8-20位字母或数字",type:"password","max-len":"20"},model:{value:t.modal[0].newPassword,callback:function(e){t.$set(t.modal[0],"newPassword",e)},expression:"modal[0].newPassword"}}),t._v(" "),s("input-row",{attrs:{label:"确认新密码",placeholder:"8-20位字母或数字",type:"password","max-len":"20"},model:{value:t.modal[0].newPassword2,callback:function(e){t.$set(t.modal[0],"newPassword2",e)},expression:"modal[0].newPassword2"}})],1),t._v(" "),s("div",{staticStyle:{width:"100%",padding:"0.24rem","box-sizing":"border-box"}},[s("button",{staticClass:"btn btn-submit",on:{click:t.dlSubmit}},[t._v("修改登录密码")])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex===1"}],key:1,staticClass:"body"},["unset"!==t.$store.state.user.userInfo.payPassword?s("vux-group",{staticClass:"vux-group"},[s("p",{staticClass:"group-title",attrs:{slot:"title"},slot:"title"},[t._v("修改资金密码")]),t._v(" "),s("input-row",{attrs:{label:"原资金密码",placeholder:"请输入原6位数字资金密码",type:"number-password","max-len":"6"},model:{value:t.modal[1].oldPassword,callback:function(e){t.$set(t.modal[1],"oldPassword",e)},expression:"modal[1].oldPassword"}}),t._v(" "),s("input-row",{attrs:{label:"新资金密码",placeholder:"请输入新6位数字资金密码",type:"number-password","max-len":"6"},model:{value:t.modal[1].newPassword,callback:function(e){t.$set(t.modal[1],"newPassword",e)},expression:"modal[1].newPassword"}}),t._v(" "),s("input-row",{attrs:{label:"确认新密码",placeholder:"请确认新6位数字资金密码",type:"number-password","max-len":"6"},model:{value:t.modal[1].newPassword2,callback:function(e){t.$set(t.modal[1],"newPassword2",e)},expression:"modal[1].newPassword2"}})],1):t._e(),t._v(" "),"unset"===t.$store.state.user.userInfo.payPassword?s("vux-group",{staticClass:"vux-group"},[s("input-row",{attrs:{label:"资金密码",placeholder:"请输入6位数字资金密码",type:"number-password","max-len":"6"},model:{value:t.modal[1].newPassword,callback:function(e){t.$set(t.modal[1],"newPassword",e)},expression:"modal[1].newPassword"}}),t._v(" "),s("input-row",{attrs:{label:"确认密码",placeholder:"请确认6位资金密码",type:"number-password","max-len":"6"},model:{value:t.modal[1].newPassword2,callback:function(e){t.$set(t.modal[1],"newPassword2",e)},expression:"modal[1].newPassword2"}})],1):t._e(),t._v(" "),"unset"!==t.$store.state.user.userInfo.payPassword&&"unset"!==t.$store.state.user.userInfo.secret?s("vux-group",{staticClass:"vux-group"},[s("p",{staticClass:"group-title",attrs:{slot:"title"},slot:"title"},[t._v("请回答密保问题")]),t._v(" "),s("input-row",{attrs:{value:t.$store.state.user.userInfo.secret,label:"密保问题",disabled:"",type:"text"}}),t._v(" "),s("input-row",{attrs:{label:"密保答案",placeholder:"请输入密保答案",type:"text"},model:{value:t.modal[1].value,callback:function(e){t.$set(t.modal[1],"value",e)},expression:"modal[1].value"}})],1):t._e(),t._v(" "),"unset"===t.$store.state.user.userInfo.secret?s("vux-group",{staticClass:"vux-group"},[t.secretKey[0].length?s("input-row",{attrs:{label:"密保问题",type:"select",placeholder:"请选择密保问题",data:t.secretKey,"is-click":""},model:{value:t.modal[1].key,callback:function(e){t.$set(t.modal[1],"key",e)},expression:"modal[1].key"}}):t._e(),t._v(" "),s("input-row",{attrs:{label:"密保答案",placeholder:"请输入密保答案",type:"text"},model:{value:t.modal[1].value,callback:function(e){t.$set(t.modal[1],"value",e)},expression:"modal[1].value"}})],1):t._e(),t._v(" "),s("div",{staticStyle:{width:"100%",padding:"0.24rem","box-sizing":"border-box"}},[s("button",{staticClass:"btn btn-submit",attrs:{type:"primary"},on:{click:function(e){return t.zjSubmit(t.$store.state.user.userInfo.payPassword,t.$store.state.user.userInfo.secret)}}},[t._v("\n                    "+t._s("unset"!==t.$store.state.user.userInfo.payPassword?"修改":"设置")+"资金密码\n                ")])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex===2"}],key:2,staticClass:"body"},["unset"!==t.$store.state.user.userInfo.secret?s("vux-group",{staticClass:"vux-group"},[s("p",{staticClass:"group-title",attrs:{slot:"title"},slot:"title"},[t._v("请回答原密保问题")]),t._v(" "),s("input-row",{attrs:{value:t.$store.state.user.userInfo.secret,label:"密保问题",disabled:"",type:"text"}}),t._v(" "),s("input-row",{attrs:{label:"密保答案",placeholder:"请输入密保答案",type:"text"},model:{value:t.modal[2].problem,callback:function(e){t.$set(t.modal[2],"problem",e)},expression:"modal[2].problem"}})],1):t._e(),t._v(" "),"unset"!==t.$store.state.user.userInfo.secret?s("vux-group",{staticClass:"vux-group"},[s("p",{staticClass:"group-title",attrs:{slot:"title"},slot:"title"},[t._v("请设置新密保问题")]),t._v(" "),t.secretKey[0].length?s("input-row",{attrs:{label:"密保问题",type:"select",placeholder:"请选择密保问题",data:t.secretKey,"is-click":""},model:{value:t.modal[2].key,callback:function(e){t.$set(t.modal[2],"key",e)},expression:"modal[2].key"}}):t._e(),t._v(" "),s("input-row",{attrs:{label:"密保答案",placeholder:"请输入密保答案",type:"text"},model:{value:t.modal[2].value,callback:function(e){t.$set(t.modal[2],"value",e)},expression:"modal[2].value"}})],1):t._e(),t._v(" "),"unset"===t.$store.state.user.userInfo.secret?s("vux-group",{staticClass:"vux-group"},[t.secretKey[0].length?s("input-row",{attrs:{label:"密保问题",type:"select",placeholder:"请选择密保问题",data:t.secretKey,"is-click":""},model:{value:t.modal[2].key,callback:function(e){t.$set(t.modal[2],"key",e)},expression:"modal[2].key"}}):t._e(),t._v(" "),s("input-row",{attrs:{label:"密保答案",placeholder:"请输入密保答案",type:"text"},model:{value:t.modal[2].value,callback:function(e){t.$set(t.modal[2],"value",e)},expression:"modal[2].value"}})],1):t._e(),t._v(" "),s("div",{staticStyle:{width:"100%",padding:"0.24rem","box-sizing":"border-box"}},[s("button",{staticClass:"btn btn-submit",on:{click:function(e){return t.mbSubmit("unset"!==t.$store.state.user.userInfo.secret)}}},[t._v("\n                    "+t._s("unset"===t.$store.state.user.userInfo.secret?"设置":"修改")+"密保问题\n                ")])])],1)])],1):t._e()},staticRenderFns:[]};e.a=a},"4Zr4":function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor"},[s("vux-group",[s("vant-field",{attrs:{type:"tel",placeholder:"",clearable:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),s("p",{staticClass:"desc"},[t._v("请填写您的手机号")])],1)],1)},staticRenderFns:[]};e.a=a},"839z":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("dHts"),o=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);var i=s("3Ds8");var r=function(t){s("Tm6E")},l=s("VU/8")(o.a,i.a,!1,r,"data-v-693f7ce2",null);e.default=l.exports},"8g0+":function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor"},[s("vux-group",[s("vant-field",{attrs:{type:"text",placeholder:"",clearable:""},model:{value:t.wechat,callback:function(e){t.wechat=e},expression:"wechat"}}),t._v(" "),s("p",{staticClass:"desc"},[t._v("请填写您的微信帐号")])],1)],1)},staticRenderFns:[]};e.a=a},DGmT:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(s("2sib"));s("L8eO");var o=n(s("qhTv"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[o.default],components:{"vant-field":a.default},name:"PhoneEditor",props:{save:{type:Boolean,default:!1}},watch:{save:function(t){t&&(this.onSave(),this.$emit("update:save",!1))}},data:function(){return{phone:""}},mounted:function(){this.phone=this.$store.state.user.userInfo.phone,this.phone?this.$emit("on-title-change","修改手机"):this.$emit("on-title-change","设置手机")},methods:{onSave:function(){var t=this;this.phone?/^1[34578]\d{9}$/.test(this.phone)?this.$store.dispatch("user/setInfo",{phone:this.phone}).then(function(e){200===e.code?(t.toastText("保存成功",window.TOAST_POSITION.TOP),t.$store.dispatch("user/refreshInfo").then().catch()):t.toastText(e.message,window.TOAST_POSITION.TOP)}).catch(function(e){t.toastText("保存失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入有效的11位数字手机号码",window.TOAST_POSITION.TOP):this.toastText("请输入手机号",window.TOAST_POSITION.TOP)}}}},DxwN:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor"},[s("vux-group",[s("vant-field",{attrs:{type:"email",placeholder:"",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("p",{staticClass:"desc"},[t._v("请填写您的邮箱地址")])],1)],1)},staticRenderFns:[]};e.a=a},FmSZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(s("2sib"));s("L8eO");var o=n(s("qhTv"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[o.default],components:{"vant-field":a.default},name:"WechatEditor",props:{save:{type:Boolean,default:!1}},watch:{save:function(t){t&&(this.onSave(),this.$emit("update:save",!1))}},data:function(){return{wechat:""}},mounted:function(){this.wechat=this.$store.state.user.userInfo.wechat,this.wechat?this.$emit("on-title-change","修改微信"):this.$emit("on-title-change","设置微信")},methods:{onSave:function(){var t=this;this.wechat?/^[A-z\d-_]+$/.test(this.wechat)?this.$store.dispatch("user/setInfo",{wechat:this.wechat}).then(function(e){200===e.code?(t.toastText("保存成功",window.TOAST_POSITION.TOP),t.$store.dispatch("user/refreshInfo").then().catch()):t.toastText(e.message,window.TOAST_POSITION.TOP)}).catch(function(e){t.toastText("保存失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入正确的微信号",window.TOAST_POSITION.TOP):this.toastText("请输入微信号",window.TOAST_POSITION.TOP)}}}},Kqw7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,o=s("qhTv"),n=(a=o)&&a.__esModule?a:{default:a},i=s("6cYu");var r=[{oldPassword:"",newPassword:"",newPassword2:""},{oldPassword:"",newPassword:"",newPassword2:"",key:[],value:""},{problem:"",key:[],value:""}];e.default={name:"SafetyEditor",components:{InputRow:i.InputRow},mixins:[n.default],props:{tab:{type:String,default:""}},data:function(){return{tabs:[{k:"dl",v:"登录密码"},{k:"zj",v:"资金密码"},{k:"mb",v:"密保问题"}],tabIndex:0,animationCheck:"slide-left",modal:JSON.copyObj(r),secretKey:[[]]}},watch:{tabIndex:function(t,e){this.animationCheck=t>e?"slide-left":"slide-right",this.modal=JSON.copyObj(r);var s="修改";"zj"===this.tabs[this.tabIndex].k&&"unset"===this.$store.state.user.userInfo.payPassword&&(s="设置"),"mb"===this.tabs[this.tabIndex].k&&"unset"===this.$store.state.user.userInfo.secret&&(s="设置"),this.$emit("on-title-change",s+this.tabs[this.tabIndex].v)}},mounted:function(){var t=this;this.$store.dispatch("user/getSecretKey",{callback:function(e){t.secretKey=[e]}})},created:function(){var t=this;setTimeout(function(){t.tabIndex=t.tabs.indexOf(t.tabs.find(function(e){return e.k===t.tab}))});var e="修改";"zj"===this.tabs[this.tabIndex].k&&"unset"===this.$store.state.user.userInfo.payPassword&&(e="设置"),"mb"===this.tabs[this.tabIndex].k&&"unset"===this.$store.state.user.userInfo.secret&&(e="设置"),this.$emit("on-title-change",e+this.tabs[this.tabIndex].v)},methods:{onSwipeLeft:function(){this.tabIndex+1<this.tabs.length&&this.tabIndex++},onSwipeRight:function(){this.tabIndex>0&&this.tabIndex--},dlSubmit:function(){var t=this;/^[A-z0-9]{6,20}$/.test(this.modal[0].oldPassword)?/^[A-z0-9]{8,20}$/.test(this.modal[0].newPassword)?this.modal[0].newPassword!==this.modal[0].newPassword2?this.toastText("两次输入的新密码不一致",window.TOAST_POSITION.TOP):this.modal[0].newPassword===this.modal[0].oldPassword?this.toastText("新密码请勿与原密码一致",window.TOAST_POSITION.TOP):this.$store.dispatch("user/resetPassword",{oldpassword:this.modal[0].oldPassword,password:this.modal[0].newPassword,password_confirmation:this.modal[0].newPassword2}).then(function(e){200===e.code?(t.toastText("修改成功",window.TOAST_POSITION.TOP),t.modal=JSON.copyObj(r),t.$store.dispatch("user/refreshInfo").then().catch()):t.toastText(e.message,window.TOAST_POSITION.TOP)}).catch(function(){t.toastText("修改失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入8-20位新密码",window.TOAST_POSITION.TOP):this.toastText("原登录密码错误",window.TOAST_POSITION.TOP)},zjSubmit:function(t,e){var s=this;"unset"===t&&"unset"===e?/^[\d]{6}$/.test(this.modal[1].newPassword)?this.modal[1].newPassword!==this.modal[1].newPassword2?this.toastText("两次新密码不一致",window.TOAST_POSITION.TOP):this.modal[1].key.length?this.modal[1].value?this.modal[1].newPassword===this.modal[1].oldPassword?this.toastText("新密码请勿与原密码一致",window.TOAST_POSITION.TOP):this.$store.dispatch("user/resetPayPassword",{pay_password:this.modal[1].newPassword,pay_password_confirmation:this.modal[1].newPassword2,key:this.modal[1].key[0],value:this.modal[1].value,status:"unset"===t}).then(function(t){200===t.code?(s.toastText("修改成功",window.TOAST_POSITION.TOP),s.modal=JSON.copyObj(r),s.$store.dispatch("user/refreshInfo").then().catch()):s.toastText(t.message,window.TOAST_POSITION.TOP)}).catch(function(){s.toastText("修改失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入密保答案",window.TOAST_POSITION.TOP):this.toastText("请选择密保问题",window.TOAST_POSITION.TOP):this.toastText("请输入6位数字密码",window.TOAST_POSITION.TOP):"unset"===t?/^[\d]{6}$/.test(this.modal[1].newPassword)?this.modal[1].newPassword!==this.modal[1].newPassword2?this.toastText("两次新密码不一致",window.TOAST_POSITION.TOP):this.$store.dispatch("user/resetPayPassword",{pay_password:this.modal[1].newPassword,pay_password_confirmation:this.modal[1].newPassword2,status:"unset"===t}).then(function(t){200===t.code?(s.toastText("修改成功",window.TOAST_POSITION.TOP),s.modal=JSON.copyObj(r),s.$store.dispatch("user/refreshInfo").then().catch()):s.toastText(t.message,window.TOAST_POSITION.TOP)}).catch(function(){s.toastText("修改失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入6位数字密码",window.TOAST_POSITION.TOP):"unset"===e?/^[\d]{6}$/.test(this.modal[1].oldPassword)?/^[\d]{6}$/.test(this.modal[1].newPassword)?this.modal[1].newPassword!==this.modal[1].newPassword2?this.toastText("两次新密码不一致",window.TOAST_POSITION.TOP):this.modal[1].key.length?this.modal[1].value?this.$store.dispatch("user/resetPayPassword",{ori_pay_password:this.modal[1].oldPassword,new_pay_password:this.modal[1].newPassword,new_pay_password_confirmation:this.modal[1].newPassword2,key:this.modal[1].key[0],value:this.modal[1].value,status:"unset"===t}).then(function(t){200===t.code?(s.toastText("修改成功",window.TOAST_POSITION.TOP),s.modal=JSON.copyObj(r),s.$store.dispatch("user/refreshInfo").then().catch()):s.toastText(t.message,window.TOAST_POSITION.TOP)}).catch(function(){s.toastText("修改失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入密保答案",window.TOAST_POSITION.TOP):this.toastText("请选择密保问题",window.TOAST_POSITION.TOP):this.toastText("请输入正确的6位数字新密码",window.TOAST_POSITION.TOP):this.toastText("请输入正确的6位数字原密码",window.TOAST_POSITION.TOP):/^[\d]{6}$/.test(this.modal[1].oldPassword)?/^[\d]{6}$/.test(this.modal[1].newPassword)?this.modal[1].newPassword!==this.modal[1].newPassword2?this.toastText("两次新密码不一致",window.TOAST_POSITION.TOP):this.modal[1].value?this.$store.dispatch("user/resetPayPassword",{ori_pay_password:this.modal[1].oldPassword,new_pay_password:this.modal[1].newPassword,new_pay_password_confirmation:this.modal[1].newPassword2,key:this.$store.state.user.userInfo.secret,value:this.modal[1].value,status:"unset"===t}).then(function(t){200===t.code?(s.toastText("修改成功",window.TOAST_POSITION.TOP),s.modal=JSON.copyObj(r),s.$store.dispatch("user/refreshInfo").then().catch()):s.toastText(t.message,window.TOAST_POSITION.TOP)}).catch(function(){s.toastText("修改失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入密保答案",window.TOAST_POSITION.TOP):this.toastText("请输入正确的6位数字新密码",window.TOAST_POSITION.TOP):this.toastText("请输入正确的6位数字原密码",window.TOAST_POSITION.TOP)},mbSubmit:function(t){var e=this;t?this.modal[2].problem?this.modal[2].key[0]?this.modal[2].value?this.$store.dispatch("user/setSecret",{key:this.$store.state.user.userInfo.secret,value:this.modal[2].problem,newKey:this.modal[2].key[0],newValue:this.modal[2].value}).then(function(t){200===t.code?(e.toastText("修改成功",window.TOAST_POSITION.TOP),e.modal=JSON.copyObj(r),e.$store.dispatch("user/refreshInfo").then().catch()):e.toastText(t.message,window.TOAST_POSITION.TOP)}).catch(function(){e.toastText("修改失败",window.TOAST_POSITION.TOP)}):this.toastText("请收入密保答案",window.TOAST_POSITION.TOP):this.toastText("请选择密保问题",window.TOAST_POSITION.TOP):this.toastText("请收入原密保答案",window.TOAST_POSITION.TOP):this.modal[2].key[0]?this.modal[2].value?this.$store.dispatch("user/setSecret",{key:this.modal[2].key[0],value:this.modal[2].value}).then(function(t){200===t.code?(e.toastText("修改成功",window.TOAST_POSITION.TOP),e.modal=JSON.copyObj(r),e.$store.dispatch("user/refreshInfo").then().catch()):e.toastText(t.message,window.TOAST_POSITION.TOP)}).catch(function(){e.toastText("修改失败",window.TOAST_POSITION.TOP)}):this.toastText("请收入密保答案",window.TOAST_POSITION.TOP):this.toastText("请选择密保问题",window.TOAST_POSITION.TOP)}}}},L8eO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("ogKO"),o=(s.n(a),s("0w4x"));s.n(o)},"MYP/":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(s("2sib"));s("L8eO");var o=n(s("qhTv"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[o.default],components:{"vant-field":a.default},props:{save:{type:Boolean,default:!1}},watch:{save:function(t){t&&(this.onSave(),this.$emit("update:save",!1))}},data:function(){return{email:""}},mounted:function(){this.email=this.$store.state.user.userInfo.email,this.email?this.$emit("on-title-change","修改邮箱"):this.$emit("on-title-change","设置邮箱")},methods:{onSave:function(){var t=this;this.email?/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/.test(this.email)?this.$store.dispatch("user/setInfo",{email:this.email}).then(function(e){200===e.code?(t.toastText("保存成功",window.TOAST_POSITION.TOP),t.$store.dispatch("user/refreshInfo").then().catch()):t.toastText(e.message,window.TOAST_POSITION.TOP)}).catch(function(e){t.toastText("保存失败",window.TOAST_POSITION.TOP)}):this.toastText("请输入有效的邮箱地址",window.TOAST_POSITION.TOP):this.toastText("请输入邮箱地址",window.TOAST_POSITION.TOP)}}}},SQFR:function(t,e){},Tm6E:function(t,e){},Uuu8:function(t,e,s){"use strict";e.a=function(t){e=t.parent&&t.parent.$router,s=t.props,a=s.to,o=s.url,n=s.replace,a&&e?e[n?"replace":"push"](a):o&&(n?location.replace(o):location.href=o);var e,s,a,o,n},s.d(e,"b",function(){return a});var a={url:String,replace:Boolean,to:[String,Object]}},XiKE:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-info-editor"},[s("title-header",{attrs:{title:t.title}},[["phone","email","wechat"].includes(t.type)?s("span",{staticClass:"header-right",attrs:{slot:"right"},on:{click:t.onSave},slot:"right"},[t._v("保存")]):t._e()]),t._v(" "),s(t.comps[t.type],{tag:"component",staticClass:"editor-body",attrs:{save:t.save,tab:t.tab},on:{"update:save":function(e){t.save=e},"on-title-change":t.changeTitle}})],1)},staticRenderFns:[]};e.a=a},ao7Y:function(t,e){},b4kc:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("DGmT"),o=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);var i=s("4Zr4");var r=function(t){s("ao7Y")},l=s("VU/8")(o.a,i.a,!1,r,"data-v-6cfde7ac",null);e.default=l.exports},dHts:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,o=s("qhTv"),n=(a=o)&&a.__esModule?a:{default:a};e.default={mixins:[n.default],name:"BankEditor",computed:{cardNum:function(){return this.$store.state.user.userInfo.cardNum},list:function(){return this.$store.state.user.bankData}},methods:{getBankBg:function(t){return'background-image: url("static/img/bank/bank-bg/'+t.bankName+'.png")'},onBankClick:function(t){"select"===this.$route.query.action&&(this.$store.commit("user/setSelectedBank",t.id),this.$router.back())}},mounted:function(){this.$store.dispatch("user/refreshBank").then(),this.$emit("on-title-change","银行信息")}}},gQyR:function(t,e,s){"use strict";var a=s("I0Ce"),o=s.n(a),n=s("aHTP"),i=s("WBOa"),r=Object(n.g)("info"),l=r[0],c=r[1];function u(t,e,s,a){if(Object(n.c)(e.info))return t("div",o()([{class:c()},Object(i.b)(a,!0)]),[e.info])}u.props={info:[String,Number]};var d=l(u);var h=Object(n.g)("icon")[0];function f(t,e,s,a){var n,r=(n=e.name,/^(https?:)?\/\/|data:image/.test(n));return t(e.tag,o()([{class:[e.classPrefix,r?"van-icon--image":e.classPrefix+"-"+e.name],style:{color:e.color,fontSize:e.size}},Object(i.b)(a,!0)]),[s.default&&s.default(),r&&t("img",{attrs:{src:e.name}}),t(d,{attrs:{info:e.info}})])}f.props={name:String,size:String,color:String,info:[String,Number],tag:{type:String,default:"i"},classPrefix:{type:String,default:"van-icon"}};e.a=h(f)},iakF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("6cYu"),o=u(s("b4kc")),n=u(s("znuu")),i=u(s("q1s3")),r=u(s("839z")),l=u(s("thIz")),c=u(s("qhTv"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[c.default],name:"BaseEditor",components:{TitleHeader:a.TitleHeader,PhoneEditor:o.default,EmailEditor:n.default,WechatEditor:i.default,BankEditor:r.default},props:{type:{type:String,default:""},tab:{type:String,default:""}},data:function(){return{title:"",comps:{phone:"PhoneEditor",email:"EmailEditor",wechat:"WechatEditor",bank:"BankEditor",safety:l.default},save:!1}},methods:{changeTitle:function(t){this.title=t},onSave:function(){this.save=!0}},created:function(){this.$store.state.user.userInfo&&this.$store.state.user.token||this.$router.push("/admin/login")}}},ktvm:function(t,e){},lTXg:function(t,e){},q1s3:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("FmSZ"),o=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);var i=s("8g0+");var r=function(t){s("lTXg")},l=s("VU/8")(o.a,i.a,!1,r,"data-v-5b8ae03b",null);e.default=l.exports},thIz:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Kqw7"),o=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);var i=s("43uS");var r=function(t){s("SQFR")},l=s("VU/8")(o.a,i.a,!1,r,"data-v-27015ec8",null);e.default=l.exports},vMze:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("iakF"),o=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);var i=s("XiKE");var r=function(t){s("ktvm")},l=s("VU/8")(o.a,i.a,!1,r,"data-v-5cbf675a",null);e.default=l.exports},"z/CL":function(t,e){},znuu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("MYP/"),o=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);var i=s("DxwN");var r=function(t){s("z/CL")},l=s("VU/8")(o.a,i.a,!1,r,"data-v-42cf11e2",null);e.default=l.exports}});