webpackJsonp([22],{DtLK:function(e,t){},J2Fw:function(e,t,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view-page",[n("title-header",{attrs:{slot:"header",title:e.$route.meta.title||"代理转账"},slot:"header"}),e._v(" "),n("div",{staticClass:"change-money",attrs:{slot:"content"},slot:"content"},[n("vux-group",[n("vux-cell-box",[n("div",{staticClass:"cell-item top"},[n("span",[e._v("可用代理收入:")]),e._v(" "),n("span",{staticClass:"red"},[e._v(e._s(e.userInfo.agencyInfo.balance))]),e._v(" "),n("span",[e._v("元")])])]),e._v(" "),n("vux-cell-box",[n("label",{staticClass:"cell-item input-row"},[n("span",{staticClass:"label"},[e._v("￥")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.money,expression:"money"}],staticClass:"input",attrs:{type:"tel",placeholder:"转账金额"+e.userInfo.agencyInfo.balance},domProps:{value:e.money},on:{input:function(t){t.target.composing||(e.money=t.target.value)}}}),e._v(" "),n("span",{staticClass:"all",on:{click:function(t){e.money=e.userInfo.agencyInfo.balance}}},[e._v("全部")])])])],1),e._v(" "),n("div",{staticStyle:{padding:"0.24rem"}},[n("vux-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("立即转帐")])],1)],1)],1)},staticRenderFns:[]};t.a=i},UQsU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("6cYu"),s=a(n("qhTv")),o=a(n("VmD8"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[s.default],name:"ChangeMoney",components:{ViewPage:o.default,TitleHeader:i.TitleHeader},computed:{userInfo:function(){return this.$store.state.user.userInfo}},data:function(){return{money:"",submitting:!1}},created:function(){this.userInfo||this.$router.replace("/admin/login")},methods:{onSubmit:function(){var e=this;this.submitting?this.toastText("正在提交",window.TOAST_POSITION.TOP):this.money?parseFloat(this.money)?parseFloat(this.money)>parseFloat(this.userInfo.agencyInfo.balance)?this.toastText("转帐金额不能大于可用金额",window.TOAST_POSITION.TOP):parseFloat(this.money)<0?this.toastText("转帐金额不能小于0元",window.TOAST_POSITION.TOP):parseFloat(this.money)<1?this.toastText("转帐金额不能小于1元",window.TOAST_POSITION.TOP):(this.submitting=!0,this.$store.state.main.loadingText="转帐中~~",this.$store.dispatch("agent/changeMoney",{money:parseFloat(this.money)}).then(function(t){200===t.code?(e.toastText("转帐完成",window.TOAST_POSITION.TOP),e.money="",e.$store.dispatch("user/refreshInfo").then(function(){e.$router.back()})):e.toastText(t.message,window.TOAST_POSITION.TOP),e.submitting=!1,e.$store.state.main.loadingText=""}).catch(function(){e.submitting=!1,e.$store.state.main.loadingText=""})):this.toastText("请输入正确的金额",window.TOAST_POSITION.TOP):this.toastText("请输入转帐金额",window.TOAST_POSITION.TOP)}}}},VmD8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("dPLf"),s=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n("ZwXr");var r=function(e){n("DtLK")},u=n("VU/8")(s.a,a.a,!1,r,"data-v-5dfeeaca",null);t.default=u.exports},"Yg/X":function(e,t){},ZwXr:function(e,t,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view-page"},[n("div",{ref:"view-page-header",staticClass:"view-page-header",attrs:{"v-no-touch-move":!e.headerTouch}},[e._t("header")],2),e._v(" "),n("div",{directives:[{name:"hammer",rawName:"v-hammer.swipeleft",value:e.onLeft,expression:"onLeft",modifiers:{swipeleft:!0}},{name:"hammer",rawName:"v-hammer.swiperight",value:e.onRight,expression:"onRight",modifiers:{swiperight:!0}}],ref:"scroll",staticClass:"view-page-content",style:{height:e.height+"px"},attrs:{"jroll-options":{preventDefault:!1}},on:{touchstart:e.onTouch}},[n("div",{ref:"content",staticStyle:{padding:"0",margin:"0","box-sizing":"border-box",width:"100%",position:"relative"},style:{minHeight:e.height+"px"}},[e._t("content")],2)]),e._v(" "),n("div",{ref:"view-page-footer",staticClass:"view-page-footer"},[e._t("footer")],2)])},staticRenderFns:[]};t.a=i},dPLf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("t11J"),o=(i=s)&&i.__esModule?i:{default:i};t.default={name:"ViewPage",props:{headerTouch:{type:Boolean,default:!1}},data:function(){return{height:0,jroll:null}},mounted:function(){var e=this;this.jroll=new o.default(this.$refs.scroll),this.refresh(),this.$nextTick(function(){e.domResize.bind(e.$refs.content,e.refresh.bind(e))})},beforeDestroy:function(){this.domResize.remove(this.$refs.content)},updated:function(){this.refresh()},methods:{onTouch:function(){this.refresh()},onLeft:function(){this.$emit("left")},onRight:function(){this.$emit("right")},refresh:function(){var e=this;this.$refs["view-page-header"]&&this.$refs["view-page-footer"]&&(this.height=window.innerHeight-this.$refs["view-page-header"].offsetHeight-this.$refs["view-page-footer"].offsetHeight),this.$nextTick(function(){e.jroll.refresh()})}}}},s6jW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("UQsU"),s=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n("J2Fw");var r=function(e){n("Yg/X")},u=n("VU/8")(s.a,a.a,!1,r,"data-v-887211bc",null);t.default=u.exports}});