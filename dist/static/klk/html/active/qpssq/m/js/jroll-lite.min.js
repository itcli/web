/*! JRoll-Lite v2.4.11 ~ (c) 2017 Author:BarZu Git:https://github.com/chjtx/JRoll/blob/master/README-LITE.md */
!function(l,r,t){"use strict";function o(l){var r=u.findScroller(l.target);i.jrollActive&&l.touches&&l.touches.length>1||r&&(r.moving&&(l.preventDefault(),r._endAction()),i.jrollActive=r,i.jrollActive._start(l))}function e(l){if(i.jrollActive){var t=r.activeElement;i.jrollActive.options.preventDefault&&l.preventDefault(),!i.jrollActive.options.autoBlur||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur(),i.jrollActive._move(l)}}function n(l){i.jrollActive&&i.jrollActive._end(l)}function s(l,t){r.addEventListener(l,t,!!p&&{passive:!1})}var i,c=l.requestAnimationFrame||l.webkitRequestAnimationFrame,a={},d="transform"in r.createElement("div").style?"t":"webkitT",u={TSF:d+"ransform",TSD:d+"ransitionDuration",moveTo:function(l,r,t,o,e){function n(){p-=17,p<=0?(s=r,i=t):(s=parseInt(s+a,10),i=parseInt(i+d,10)),l.style[u.TSF]="translate3d("+s+"px, "+i+"px, 0px)",p>0&&(s!==r||i!==t)?c(n):"function"==typeof e&&e()}var s,i,a,d,p,m,h=0,f=0;m=/translate3d\(([-\d.]+)px, ([-\d.]+)px, 0px\)/.exec(l.style[u.TSF]),m&&(h=Number(m[1]),f=Number(m[2])),p=o||17,a=(r-h)/(p/17),d=(t-f)/(p/17),s=h,i=f,n()},findScroller:function(l){for(var t;l!==r;){if(t=l.getAttribute("jroll-id"))return a[t];l=l.parentNode}return null}},p=!1;try{var m=Object.defineProperty({},"passive",{get:function(){p=!0}});l.addEventListener("test",null,m)}catch(h){}s("touchstart",o),s("touchmove",e),s("touchend",n),s("touchcancel",n),i=function(l,t){var o=this;return o.w=o.wrapper="string"==typeof l?r.querySelector(l):l,o.s=o.scroller=t&&t.scroller?"string"==typeof t.scroller?r.querySelector(t.scroller):t.scroller:o.w.children[0],o.s.jroll?(o.s.jroll.refresh(),o.s.jroll):(o.s.jroll=o,void this._init(l,t))},i.version="2.4.11",i.utils=u,i.jrollMap=a,i.prototype={_init:function(r,o){var e=this;e.id=o&&o.id||e.s.getAttribute("jroll-id")||"jroll_"+t.random().toString().substr(2,8),e.s.setAttribute("jroll-id",e.id),a[e.id]=e,e.options={scrollX:!1,minX:null,maxX:null,minY:null,maxY:null,bounce:!0,scrollBarX:!1,scrollBarY:!1,scrollBarFade:!1,preventDefault:!0,momentum:!0,autoStyle:!0,autoBlur:!0},e.o=e.options;for(var n in o)"scroller"!==n&&(e.o[n]=o[n]);e.o.autoStyle&&("static"===l.getComputedStyle(e.w).position&&(e.w.style.position="relative",e.w.style.top="0",e.w.style.left="0"),e.w.style.overflow="hidden",e.s.style.minHeight="100%"),e.s.style.touchAction="none",e.x=0,e.y=0,e.scrollBarX=null,e.scrollBarY=null,e._s={startX:0,startY:0,lastX:0,lastY:0,endX:0,endY:0},e._event={scrollStart:[],scroll:[],scrollEnd:[],refresh:[],touchEnd:[]},e.refresh(!0)},enable:function(){var l=this;return l.s.setAttribute("jroll-id",l.id),l},disable:function(){var l=this;return l.s.removeAttribute("jroll-id"),l},refresh:function(r){var o,e,n,s,i,c,a=this,d=l.getComputedStyle(a.w),u=l.getComputedStyle(a.s);return a.wrapperWidth=a.w.clientWidth,a.wrapperHeight=a.w.clientHeight,a.scrollerWidth=a.s.offsetWidth,a.scrollerHeight=a.s.offsetHeight,o=parseInt(d["padding-left"])+parseInt(d["padding-right"]),e=parseInt(d["padding-top"])+parseInt(d["padding-bottom"]),n=parseInt(u["margin-left"])+parseInt(u["margin-right"]),s=parseInt(u["margin-top"])+parseInt(u["margin-bottom"]),a.minScrollX=null===a.o.minX?0:a.o.minX,a.maxScrollX=null===a.o.maxX?a.wrapperWidth-a.scrollerWidth-o-n:a.o.maxX,a.minScrollY=null===a.o.minY?0:a.o.minY,a.maxScrollY=null===a.o.maxY?a.wrapperHeight-a.scrollerHeight-e-s:a.o.maxY,a.minScrollX<0&&(a.minScrollX=0),a.minScrollY<0&&(a.minScrollY=0),a.maxScrollX>0&&(a.maxScrollX=0),a.maxScrollY>0&&(a.maxScrollY=0),a._s.endX=a.x,a._s.endY=a.y,a.o.scrollBarX?(a.scrollBarX||(i=a._createScrollBar("jroll-xbar","jroll-xbtn",!1),a.scrollBarX=i[0],a.scrollBtnX=i[1]),a.scrollBarScaleX=a.w.clientWidth/a.s.offsetWidth,c=t.round(a.scrollBarX.clientWidth*a.scrollBarScaleX),a.scrollBtnX.style.width=(c>8?c:8)+"px",a._runScrollBarX()):a.scrollBarX&&(a.w.removeChild(a.scrollBarX),a.scrollBarX=null),a.o.scrollBarY?(a.scrollBarY||(i=a._createScrollBar("jroll-ybar","jroll-ybtn",!0),a.scrollBarY=i[0],a.scrollBtnY=i[1]),a.scrollBarScaleY=a.w.clientHeight/a.s.offsetHeight,c=t.round(a.scrollBarY.clientHeight*a.scrollBarScaleY),a.scrollBtnY.style.height=(c>8?c:8)+"px",a._runScrollBarY()):a.scrollBarY&&(a.w.removeChild(a.scrollBarY),a.scrollBarY=null),r||a._execEvent("refresh"),a},_runScrollBarX:function(){var l=this,r=t.round(-1*l.x*l.scrollBarScaleX);l._scrollTo.call({scroller:l.scrollBtnX},r,0)},_runScrollBarY:function(){var l=this,r=t.round(-1*l.y*l.scrollBarScaleY);l._scrollTo.call({scroller:l.scrollBtnY},0,r)},_createScrollBar:function(l,t,o){var e,n,s=this;return e=r.createElement("div"),n=r.createElement("div"),e.className=l,n.className=t,this.options.scrollBarX!==!0&&this.options.scrollBarY!==!0||(o?(e.style.cssText="position:absolute;top:2px;right:2px;bottom:2px;width:6px;overflow:hidden;border-radius:2px;-webkit-transform: scaleX(.5);transform: scaleX(.5);",n.style.cssText="background:rgba(0,0,0,.4);position:absolute;top:0;left:0;right:0;border-radius:2px;"):(e.style.cssText="position:absolute;left:2px;bottom:2px;right:2px;height:6px;overflow:hidden;border-radius:2px;-webkit-transform: scaleY(.5);transform: scaleY(.5);",n.style.cssText="background:rgba(0,0,0,.4);height:100%;position:absolute;left:0;top:0;bottom:0;border-radius:2px;")),s.o.scrollBarFade&&(e.style.opacity=0),e.appendChild(n),s.w.appendChild(e),[e,n]},_fade:function(l,r){var t=this;t.fading&&r>0&&(r-=25,r%100===0&&(l.style.opacity=r/1e3),c(t._fade.bind(t,l,r)))},on:function(l,r){var t=this;switch(l){case"scrollStart":t._event.scrollStart.push(r);break;case"scroll":t._event.scroll.push(r);break;case"scrollEnd":t._event.scrollEnd.push(r);break;case"refresh":t._event.refresh.push(r);break;case"touchEnd":t._event.touchEnd.push(r)}return t},_execEvent:function(l,r){for(var t=this,o=t._event[l].length-1;o>=0;o--)t._event[l][o].call(t,r)},_compute:function(l,r,o){var e=this;return l>r?e.o.bounce&&l>r+10?t.round(r+(l-r)/4):r:l<o?e.o.bounce&&l<o-10?t.round(o+(l-o)/4):o:l},_scrollTo:function(l,r){this.scroller.style[u.TSF]="translate3d("+l+"px, "+r+"px, 0px)"},scrollTo:function(l,r,t,o,e,n,s){var i=this;return o?(i.x=l,i.y=r):(l>=i.minScrollX?(i.x=i.minScrollX,s&&(i._s.startX=s[0].pageX,i._s.endX=i.minScrollX)):l<=i.maxScrollX?(i.x=i.maxScrollX,s&&(i._s.startX=s[0].pageX,i._s.endX=i.maxScrollX)):i.x=l,r>=i.minScrollY?(i.y=i.minScrollY,s&&(i._s.startY=s[0].pageY,i._s.endY=i.minScrollY)):r<=i.maxScrollY?(i.y=i.maxScrollY,s&&(i._s.startY=s[0].pageY,i._s.endY=i.maxScrollY)):i.y=r),n||(i._s.endX=i.x,i._s.endY=i.y),t?u.moveTo(i.s,i.x,i.y,t,e):(i._scrollTo(i.x,i.y),"function"==typeof e&&e()),i.scrollBtnX&&i._runScrollBarX(),i.scrollBtnY&&i._runScrollBarY(),i},_endAction:function(){var l=this;l._s.endX=l.x,l._s.endY=l.y,l.moving=!1,l.o.scrollBarFade&&!l.fading&&(l.fading=!0,l.scrollBarX&&l._fade(l.scrollBarX,2e3),l.scrollBarY&&l._fade(l.scrollBarY,2e3)),l._execEvent("scrollEnd")},_stepBounce:function(){function l(){r.scrollTo(r.x,r.y,300)}var r=this;r.bouncing=!1,r.o.scrollX?1===r.directionX?(r.scrollTo(r.minScrollX+15,r.y,100,!0,l),r.x=r.minScrollX):(r.scrollTo(r.maxScrollX-15,r.y,100,!0,l),r.x=r.maxScrollX):1===r.directionY?(r.scrollTo(r.x,r.minScrollY+15,100,!0,l),r.y=r.minScrollY):(r.scrollTo(r.x,r.maxScrollY-15,100,!0,l),r.y=r.maxScrollY)},_x:function(l){var r=this,t=r.directionX*l;isNaN(t)||(r.x=r.x+t,(r.x>=r.minScrollX||r.x<=r.maxScrollX)&&(r.moving=!1,r.o.bounce&&(r.bouncing=!0)))},_y:function(l){var r=this,t=r.directionY*l;isNaN(t)||(r.y=r.y+t,(r.y>=r.minScrollY||r.y<=r.maxScrollY)&&(r.moving=!1,r.o.bounce&&(r.bouncing=!0)))},_step:function(l){var r=this,o=Date.now(),e=o-l,n=0;if(r.bouncing&&r._stepBounce(),!r.moving)return void r._endAction();if(e>10){if(r.speed=r.speed-e*(r.speed>1.2?.001:r.speed>.6?8e-4:6e-4),n=t.round(r.speed*e),r.speed<=0||n<=0)return void r._endAction();l=o,r._do(n),r.scrollTo(r.x,r.y,0,!1,null,!0),r._execEvent("scroll")}c(r._step.bind(r,l))},_doScroll:function(l,r){var t=this;t.distance=l,t.o.bounce&&(t.x=t._compute(t.x,t.minScrollX,t.maxScrollX),t.y=t._compute(t.y,t.minScrollY,t.maxScrollY)),t.scrollTo(t.x,t.y,0,t.o.bounce,null,!0,r.touches||[r]),t._execEvent("scroll",r)},_start:function(l){var r=this,t=l.touches||[l];r.distance=0,r.lastMoveTime=r.startTime=Date.now(),r.o.scrollX?(r._do=r._x,r._s.lastX=r.startPositionX=r._s.startX=t[0].pageX):(r._do=r._y,r._s.lastY=r.startPositionY=r._s.startY=t[0].pageY),r._execEvent("scrollStart",l)},_move:function(l){var r,t,o,e,n,s,i,c=this,a=l.touches||[l],d=1,u=1;r=Date.now(),c.o.scrollBarFade&&(c.fading=!1,c.scrollBarX&&(c.scrollBarX.style.opacity=1),c.scrollBarY&&(c.scrollBarY.style.opacity=1)),c.o.scrollX?(t=a[0].pageX,e=t-c._s.lastX,c._s.lastX=t,d=e>=0?1:-1,(r-c.lastMoveTime>200||c.directionX!==d)&&(c.startTime=r,c.startPositionX=t,c.directionX=d),s=t-c.startPositionX,c.x=t-c._s.startX+c._s.endX,c._doScroll(s,l)):(o=a[0].pageY,n=o-c._s.lastY,c._s.lastY=o,u=n>=0?1:-1,(r-c.lastMoveTime>200||c.directionY!==u)&&(c.startTime=r,c.startPositionY=o,c.directionY=u),i=o-c.startPositionY,c.y=o-c._s.startY+c._s.endY,c._doScroll(i,l)),c.lastMoveTime=r},_end:function(l){var r,o,e=this,n=Date.now();l.touches&&l.touches.length||(e._execEvent("touchEnd"),i.jrollActive=null,e.duration=n-e.startTime,r=e.y>e.minScrollY||e.y<e.maxScrollY,o=e.x>e.minScrollX||e.x<e.maxScrollX,r||o?e.scrollTo(e.x,e.y,300)._endAction():e.o.momentum&&e.duration<200&&e.distance?(e.speed=t.abs(e.distance/e.duration),e.speed=e.speed>2?2:e.speed,e.moving=!0,c(e._step.bind(e,n))):e._endAction())}},"undefined"!=typeof module&&module.exports&&(module.exports=i),"function"==typeof define&&define(function(){return i}),l.JRoll=i}(window,document,Math);