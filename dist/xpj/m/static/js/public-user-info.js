webpackJsonp([33],{"7Ss3":function(t,a){},"Q+0I":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e,i=s("6cYu"),n=s("qhTv"),c=(e=n)&&e.__esModule?e:{default:e};a.default={mixins:[c.default],name:"UserInfo",components:{TitleHeader:i.TitleHeader},data:function(){return{showAvatars:!1,avatarIndex:-1}},computed:{info:function(){return this.$store.state.user.userInfo},avatar:function(){return this.info&&this.info.pic?"/static/img/avatar/"+this.info.pic:"/static/img/avatar/default.png"}},mounted:function(){this.info?this.avatarIndex=this.$store.state.user.avatars.indexOf(this.info.pic):this.$router.push("/admin/login")},methods:{checkName:function(){this.info.realName||this.$router.push("/user/add-bank")},changeAvatar:function(){var t=this;if(this.avatarIndex!==this.$store.state.user.avatars.indexOf(this.info.pic)){var a=this.$store.state.user.avatars[this.avatarIndex];a&&this.$store.dispatch("user/changeAvatar",{avatarName:a}).then(function(a){200===a.code?(t.toastText("修改成功",window.TOAST_POSITION.TOP),t.$store.dispatch("user/refreshInfo").then().catch()):t.toastText(a.message,window.TOAST_POSITION.TOP)}).catch(function(){t.toastText("修改失败",window.TOAST_POSITION.TOP)})}this.showAvatars=!1}}}},ZFRN:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Q+0I"),i=s.n(e);for(var n in e)"default"!==n&&function(t){s.d(a,t,function(){return e[t]})}(n);var c=s("qnbt");var r=function(t){s("7Ss3")},o=s("VU/8")(i.a,c.a,!1,r,"data-v-770dbc7f",null);a.default=o.exports},qnbt:function(t,a,s){"use strict";var e={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"info"},[s("title-header",{attrs:{title:t.$route.meta.title||"个人资料"}}),t._v(" "),s("div",{staticClass:"body"},[s("vux-group",[s("vux-cell-box",{attrs:{"is-link":""}},[s("div",{staticClass:"cell-content",on:{click:function(a){t.showAvatars=!0}}},[s("img",{staticClass:"avatar",attrs:{src:t.avatar,alt:"头像"}}),t._v(" "),s("span",{staticClass:"desc"},[t._v("修改用户头像")])])]),t._v(" "),s("vux-cell-box",[s("div",{staticClass:"cell-content",on:{click:t.checkName}},[s("span",{staticClass:"title"},[t._v("姓名")]),t._v(" "),s("span",{staticClass:"desc"},[t._v(t._s(t.info&&t.info.realName?t.info.realName:"暂无设置"))])])]),t._v(" "),s("vux-cell-box",[s("div",{staticClass:"cell-content"},[s("span",{staticClass:"title"},[t._v("帐号名")]),t._v(" "),s("span",{staticClass:"desc"},[t._v(t._s(t.info&&t.info.userName?t.info.userName:"暂无设置"))])])])],1),t._v(" "),s("vux-group",[s("vux-cell-box",{attrs:{"is-link":"",link:"/user/edit/safety/zj"}},[s("div",{staticClass:"cell-content"},[s("span",{staticClass:"title"},[t._v("资金密码")]),t._v(" "),s("span",{staticClass:"desc"},[t._v(t._s(t.info&&"unset"!==t.info.payPassword?"已设置":"暂无设置"))])])]),t._v(" "),s("vux-cell-box",{attrs:{"is-link":"",link:"/user/edit/phone"}},[s("div",{staticClass:"cell-content"},[s("span",{staticClass:"title"},[t._v("手机号")]),t._v(" "),s("span",{staticClass:"desc"},[t._v(t._s(t.info&&t.info.phone?t.info.phone:"暂无设置"))])])]),t._v(" "),s("vux-cell-box",{attrs:{"is-link":"",link:"/user/edit/bank"}},[s("div",{staticClass:"cell-content"},[s("span",{staticClass:"title"},[t._v("银行卡资料")]),t._v(" "),s("span",{staticClass:"desc"},[t._v(t._s(t.info&&"unset"!==t.info.cardNum?"已设置":"暂无设置"))])])]),t._v(" "),s("vux-cell-box",{attrs:{"is-link":"",link:"/user/edit/email"}},[s("div",{staticClass:"cell-content"},[s("span",{staticClass:"title"},[t._v("邮箱帐号")]),t._v(" "),s("span",{staticClass:"desc"},[t._v(t._s(t.info&&t.info.email?t.info.email:"暂无设置"))])])]),t._v(" "),s("vux-cell-box",{attrs:{"is-link":"",link:"/user/edit/wechat"}},[s("div",{staticClass:"cell-content"},[s("span",{staticClass:"title"},[t._v("微信号")]),t._v(" "),s("span",{staticClass:"desc"},[t._v(t._s(t.info&&t.info.wechat?t.info.wechat:"暂无设置"))])])])],1),t._v(" "),s("div",{staticStyle:{padding:"0.3rem"}},[s("vux-button",{staticClass:"no-radius",attrs:{type:"primary"},nativeOn:{click:function(a){return t.onLogout(a)}}},[t._v("安全退出")])],1)],1),t._v(" "),s("vux-popup",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{position:"bottom","popup-style":{zIndex:"1000",background:"#fff"}},model:{value:t.showAvatars,callback:function(a){t.showAvatars=a},expression:"showAvatars"}},[s("vux-swiper",{attrs:{"show-desc-mask":!1,"dots-position":"center",height:"56vw"}},t._l(Math.ceil(t.$store.state.user.avatars.length/8),function(a){return s("vux-swiper-item",{key:"p_"+a},[s("div",{staticClass:"avatar-list"},t._l(8,function(e){return s("div",{key:"a_"+a+"_"+e,class:{avatar:!0,active:8*(a-1)+e-1===t.avatarIndex},on:{click:function(s){t.avatarIndex=8*(a-1)+e-1}}},[s("img",{staticClass:"img",attrs:{src:"/static/img/avatar/"+t.$store.state.user.avatars[8*(a-1)+e-1],alt:""}})])}),0)])}),1),t._v(" "),s("div",{staticStyle:{padding:"0 2.5vw 5vw 2.5vw"}},[s("vux-button",{staticClass:"no-radius",attrs:{type:"primary"},nativeOn:{click:function(a){return t.changeAvatar(a)}}},[t._v("确认")])],1)],1)],1)},staticRenderFns:[]};a.a=e}});