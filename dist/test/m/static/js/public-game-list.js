webpackJsonp([29],{Fa9v:function(t,e){},SX9u:function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view-page",{staticStyle:{"background-color":"#fff"}},[a("div",{staticClass:"game-header",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"header-back fa fa-fw fa-angle-left",on:{click:function(e){return t.$router.back()}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"search-input",attrs:{type:"text",placeholder:"关键词搜索"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),t._v(" "),a("button",{staticClass:"search-btn",on:{click:t.onSearch}},[t._v("搜索")]),t._v(" "),a("span",{staticClass:"header-menu fa fa-fw fa-list-ul",on:{click:function(e){t.showMenu=!0}}}),t._v(" "),a("vux-popup",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticClass:"game-right-menu",attrs:{width:"75%",position:"right","popup-style":{backgroundColor:"#ffffff"}},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[a("h4",{staticClass:"game-right-menu-header"},[t._v("游戏平台")]),t._v(" "),a("ul",{staticClass:"game-type-list"},t._l(t.gameTypeList,function(e,i){return a("li",{key:i,staticClass:"game-type-item",class:{active:t.targetId===e.id},on:{click:function(a){t.targetId=e.id}}},[t._v("\n          "+t._s(e.name)+"\n        ")])}),0),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].type&&t.rollList[t.targetId].type.length?a("div",{staticClass:"game-right-menu-hr"}):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].type&&t.rollList[t.targetId].type.length?a("h4",{staticClass:"game-right-menu-header"},[t._v("\n        类型\n      ")]):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].type&&t.rollList[t.targetId].type.length?a("ul",{staticClass:"game-type-list"},t._l(t.rollList[t.targetId].type,function(e,i){return a("li",{key:i,staticClass:"game-type-item",class:{active:t.type===e.tag},on:{click:function(a){t.type=e.tag}}},[t._v("\n          "+t._s(e.name)+"\n        ")])}),0):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].line&&t.rollList[t.targetId].line.length?a("div",{staticClass:"game-right-menu-hr"}):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].line&&t.rollList[t.targetId].line.length?a("h4",{staticClass:"game-right-menu-header"},[t._v("\n        赔付线\n      ")]):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].line&&t.rollList[t.targetId].line.length?a("ul",{staticClass:"game-type-list"},t._l(t.rollList[t.targetId].line,function(e,i){return a("li",{key:i,staticClass:"game-type-item",class:{active:t.line===e.tag},on:{click:function(a){t.line=e.tag}}},[t._v("\n          "+t._s(e.name)+"\n        ")])}),0):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].thirt&&t.rollList[t.targetId].thirt.length?a("div",{staticClass:"game-right-menu-hr"}):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].thirt&&t.rollList[t.targetId].thirt.length?a("h4",{staticClass:"game-right-menu-header"},[t._v("\n        游戏类型\n      ")]):t._e(),t._v(" "),t.rollList[t.targetId]&&t.rollList[t.targetId].thirt&&t.rollList[t.targetId].thirt.length?a("ul",{staticClass:"game-type-list"},t._l(t.rollList[t.targetId].type,function(e,i){return a("li",{key:i,staticClass:"game-type-item",class:{active:t.thirt===e.tag},on:{click:function(a){t.thirt=e.tag}}},[t._v("\n          "+t._s(e.name)+"\n        ")])}),0):t._e()])],1),t._v(" "),a("div",{staticClass:"game-content",attrs:{slot:"content"},slot:"content"},[t.rollList[t.targetId]&&t.rollList[t.targetId].type&&t.rollList[t.targetId].type.length?a("van-tabs",{on:{click:t.onTagClick}},t._l(t.rollList[t.targetId].type,function(e,i){return a("van-tab",{key:i,staticClass:"game-type-item",class:{active:t.type===e.tag},attrs:{title:e.name},on:{click:function(a){t.type=e.tag}}})}),1):t._e(),t._v(" "),t.targetType?a("div",{staticClass:"game-prize-pool"},[a("p",{staticClass:"game-prize-pool-title"},[t._v(t._s(t.targetType.name)+"总奖池")]),t._v(" "),a("div",{staticClass:"game-prize-pool-content"},[a("ul",{staticClass:"list"},[a("li",{staticClass:"item",staticStyle:{left:"1.42rem"}},[t._v(t._s(t.prizePollVal[0]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"1.90rem"}},[t._v(t._s(t.prizePollVal[1]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"2.36rem"}},[t._v(t._s(t.prizePollVal[2]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"2.79rem"}},[t._v(t._s(t.prizePollVal[3]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"3.24rem"}},[t._v(t._s(t.prizePollVal[4]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"3.68rem"}},[t._v(t._s(t.prizePollVal[5]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"4.12rem"}},[t._v(t._s(t.prizePollVal[6]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"4.54rem"}},[t._v(t._s(t.prizePollVal[7]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"4.98rem"}},[t._v(t._s(t.prizePollVal[8]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"5.42rem"}},[t._v(t._s(t.prizePollVal[9]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"5.86rem"}},[t._v(t._s(t.prizePollVal[10]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"6.30rem"}},[t._v(t._s(t.prizePollVal[11]))]),t._v(" "),a("li",{staticClass:"item",staticStyle:{left:"6.74rem"}},[t._v(t._s(t.prizePollVal[12]))])])]),t._v(" "),a("ul",{staticClass:"game-list"},t._l(t.targetGameList,function(e,i){return a("li",{key:i,staticClass:"game-item"},[a("img",{staticClass:"icon",attrs:{src:e.icon,alt:""}}),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("button",{staticClass:"game-btn",on:{click:function(a){return t.onGameClick(e)}}},[t._v("立刻游戏")]),t._v(" "),t.noLogin?a("button",{staticClass:"game-btn game-btn-try",staticStyle:{"margin-top":"0.1rem"},on:{click:function(a){return t.tryGame(e)}}},[t._v("\n            立刻试玩\n          ")]):t._e()])}),0)]):t._e()],1)])},staticRenderFns:[]};e.a=i},cf4N:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("qLY2"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);var l=a("SX9u");var r=function(t){a("nw8E"),a("Fa9v")},o=a("VU/8")(n.a,l.a,!1,r,"data-v-8a79ff3c",null);e.default=o.exports},nw8E:function(t,e){},qLY2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(a("mybB")),n=r(a("YV3L"));a("GEqf"),a("+BMk");var s=a("6cYu"),l=r(a("qhTv"));function r(t){return t&&t.__esModule?t:{default:t}}e.default={name:"GameList",components:{vanTab:n.default,vanTabs:i.default,ViewPage:s.ViewPage,PubDialog:s.PubDialog},mixins:[l.default],props:{id:{type:String,default:""}},data:function(){return{showNoticeDialog:!1,notices:[],noticeIndex:0,show:!0,showMenu:!1,gameTypeList:[],targetId:"",targetGameList:[],baseTargetGameList:[],targetType:null,prizePollVal:"",timeTask:null,type:"",line:"",thirt:"",searchText:"",rollList:{10041:{type:[],line:[]},10042:{type:[],line:[]},10022:{type:[{name:"全选",tag:""},{name:"最新游戏",tag:"NEW"},{name:"热门游戏",tag:"HOT"},{name:"经典游戏",tag:"CLA"},{name:"老虎机",tag:"SLO"},{name:"奖池游戏",tag:"JPT"}],line:[{name:"全选",tag:""},{name:"单线",tag:"1-1"},{name:"5-10线",tag:"5-10"},{name:"15-20线",tag:"15-20"},{name:"243游戏",tag:"243"},{name:"更多",tag:"MOR"}]},10015:{type:[{name:"全选",tag:""},{name:"最新游戏",tag:"NEW"},{name:"热门游戏",tag:"HOT"},{name:"老虎机",tag:"SLO"},{name:"大额投注",tag:"MAX"},{name:"小额投注",tag:"MIN"},{name:"经典拉霸",tag:"FRT"},{name:"消消乐",tag:"CLH"}],line:[{name:"全选",tag:""},{name:"5-10线",tag:"5-10"},{name:"15-20线",tag:"15-20"},{name:"25-30线",tag:"25-30"},{name:"更多",tag:"MOR"}]},10024:{type:[{name:"全选",tag:""},{name:"最新游戏",tag:"NEW"},{name:"热门游戏",tag:"HOT"},{name:"经典游戏",tag:"CLA"},{name:"奖池游戏",tag:"JPT"},{name:"老虎机",tag:"SLO"}],line:[{name:"全选",tag:""},{name:"单线",tag:"1-1"},{name:"5-10线",tag:"5-10"},{name:"15-20线",tag:"15-20"},{name:"243线",tag:"243"},{name:"更多",tag:"MOR"}],thirt:[{name:"全选",tag:""},{name:"卡通",tag:"ANI"},{name:"洛奇",tag:"RCK"},{name:"少女",tag:"GIR"}]},10018:{type:[{name:"全选",tag:""},{name:"最新游戏",tag:"NEW"},{name:"热门游戏",tag:"HOT"},{name:"老虎机",tag:"SLO"},{name:"捕鱼游戏",tag:"FSH"}],line:[{name:"全选",tag:""},{name:"单线",tag:"1-1"},{name:"5-10线",tag:"5-10"},{name:"15-20线",tag:"15-20"},{name:"243线",tag:"243"}]},10016:{type:[{name:"全选",tag:""},{name:"最新游戏",tag:"NEW"},{name:"热门游戏",tag:"HOT"},{name:"老虎机",tag:"SLO"},{name:"刮刮乐",tag:"SCR"},{name:"桌上游戏",tag:"TBL"},{name:"大型机台",tag:"LMC"}],line:[]},10014:{type:[],line:[]},10019:{type:[{name:"全选",tag:""},{name:"最新游戏",tag:"NEW"},{name:"热门游戏",tag:"HOT"},{name:"老虎机",tag:"SLO"},{name:"奖池游戏",tag:"JPT"},{name:"经典游戏",tag:"CLA"}],line:[{name:"全选",tag:""},{name:"单线",tag:"1-1"},{name:"5-10线",tag:"5-10"},{name:"15-20线",tag:"15-20"},{name:"243线",tag:"243"},{name:"更多",tag:"MOR"}]},10023:{type:[],line:[]},10025:{type:[{name:"全选",tag:""},{name:"最新游戏",tag:"NEW"},{name:"热门游戏",tag:"HOT"},{name:"老虎机",tag:"SLO"},{name:"经典游戏",tag:"CLA"}],line:[{name:"全选",tag:""},{name:"单线",tag:"1-1"},{name:"5-10线",tag:"5-10"},{name:"15-20线",tag:"15-20"},{name:"243线",tag:"243"},{name:"更多",tag:"MOR"}]},10020:{type:[],line:[]},10021:{type:[],line:[]}}}},computed:{noLogin:function(){return!this.$store.state.user.token},noticeContent:function(){return this.notices[this.noticeIndex]?this.notices[this.noticeIndex]:null}},watch:{showNoticeDialog:function(){var t=this;this.showNoticeDialog&&this.$nextTick(function(){t.$refs["notice-scroll"]&&(t.$refs["notice-scroll"].refresh(),t.domResize.bind(t.$refs["notice-scroll-content"],function(){t.$refs["notice-scroll"].refresh()}))})},targetId:function(){var t=this;this.targetType=this.gameTypeList.find(function(e){return e.id===t.targetId}),this.searchText=this.thirt=this.type=this.line="",this.getGameList()},type:"filterGameList",line:"filterGameList",thirt:"filterGameList"},created:function(){var t=this;this.getTypes(),this.timeTask=setInterval(function(){var e=("¥"+Date.now().toString().substr(2,11)).split("");e.splice(10,0,"."),t.prizePollVal=e},88)},mounted:function(){},beforeDestroy:function(){this.timeTask&&clearInterval(this.timeTask)},methods:{tryGame:function(t){var e=this,a=window.open("","_blank");this.testLogin(function(){e.$store.dispatch("games/gameLoginNew",t.id).then(function(t){if(200===t.code)return a?a.location.href=t.data.url:window.location.href=t.data.url,!0;t.message?(a&&a.close(),e.toastText(t.message,window.TOAST_POSITION.TOP)):t.msg&&(a&&a.close(),e.toastText(t.msg,window.TOAST_POSITION.TOP))})},function(){})},onNoticeOk:function(){var t=this;this.showNoticeDialog=!1,setTimeout(function(){t.noticeIndex++,t.$nextTick(function(){t.noticeContent?t.showNoticeDialogs():t.noticeIndex=0})},500)},showNoticeDialogs:function(){if(!this.show)return!1;this.noticeContent&&(this.showNoticeDialog=!0)},getDialogNotice:function(){var t=this;this.$store.state.main.showDialog.game[localStorage.token?"login":"noLogin"]=!1,this.$store.dispatch("main/getPopups",{position:1,status:localStorage.token?2:1}).then(function(e){200===e.code&&e.data.data.length&&(t.notices=e.data.data.filter(function(t){return"yes"===t.status}),t.$nextTick(function(){setTimeout(function(){t.showNoticeDialogs()},500)}))})},onTagClick:function(t,e){this.type=this.rollList[this.targetId].type[t].tag},onSearch:function(){this.filterGameList()},filterGameList:function(){var t=this;this.targetGameList=this.baseTargetGameList.filter(function(e){var a=!0;return a=(a=(a=(a=a&&(!t.type||e.tag.includes(t.type)))&&(!t.line||e.tag.includes(t.line)))&&(!t.thirt||e.tag.includes(t.thirt)))&&(!t.searchText||e.name.includes(t.searchText))})},getGameList:function(){var t=this;this.targetId&&this.$store.dispatch("main/gameSort",{id:this.targetId,callback:function(e,a){t.targetId===a&&e&&e[t.targetId]&&(t.targetGameList=t.baseTargetGameList=e[t.targetId])}})},getTypes:function(){var t=this;this.$store.dispatch("main/gameSort",{id:"10001|10004",callback:function(e){e&&e[10001]&&e[10004]&&(t.gameTypeList=e[10004].concat(e[10001]),t.targetId=parseInt(t.id)||(t.gameTypeList[0]?t.gameTypeList[0].id:""))}})}}}}});